<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anfrageformular - Three Dimensions</title>
  <meta name="description" content="Kontaktieren Sie Three Dimensions für Ihre 3D-Modell, Animation oder AR-Projektanfrage. Füllen Sie das Formular aus oder kontaktieren Sie uns direkt.">
  <meta name="keywords" content="3D Anfrage, AR Anfrage, Kontakt, Three Dimensions, Projektanfrage">
  <link rel="canonical" href="https://three-dimensions.de/Three-Dimensions-Anfrageformular.html">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://three-dimensions.de/Three-Dimensions-Anfrageformular.html">
  <meta property="og:title" content="Anfrageformular - Three Dimensions">
  <meta property="og:description" content="Kontaktieren Sie Three Dimensions für Ihre 3D-Modell, Animation oder AR-Projektanfrage.">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary">
  <meta property="twitter:url" content="https://three-dimensions.de/Three-Dimensions-Anfrageformular.html">
  <meta property="twitter:title" content="Anfrageformular - Three Dimensions">
  <meta property="twitter:description" content="Kontaktieren Sie Three Dimensions für Ihre 3D-Modell, Animation oder AR-Projektanfrage.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="responsive.css">
  <style>
    @font-face {
      font-family: 'Mandioca';
      src: local('Mandioca'), url('Mandioca.woff2') format('woff2'), url('Mandioca.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    :root {
      --blue-light: #FAFAFA;
      --blue-dark: #0d2c57;
      --header-bg: #0d2c57;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: transparent;
      font-family: "Quicksand", "Helvetica", "Arial", sans-serif;
      color: #ffffff;
    }

    header {
      position: sticky;
      top: 0;
      width: 100%;
      background: var(--header-bg);
      padding: calc(2rem - 14px) 2rem;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
    }

    .brand {
      margin: 0;
      font-size: 1.75rem;
      font-weight: normal;
      letter-spacing: 0.02em;
    }

    .brand a {
      color: #ffffff;
      text-decoration: none;
    }

    .nav-links {
      display: flex;
      gap: 2rem;
      align-items: center;
    }

    .services-dropdown {
      position: relative;
    }

    .services-dropdown-button {
      color: #ffffff;
      text-decoration: none;
      font-family: "Mandioca", "Helvetica", "Arial", sans-serif;
      font-size: 1rem;
      font-weight: 200;
      letter-spacing: 0.02em;
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .services-dropdown-button::after {
      content: '▼';
      font-size: 0.7rem;
      transition: transform 0.3s ease;
    }

    .services-dropdown.active .services-dropdown-button::after {
      transform: rotate(180deg);
    }

    .services-dropdown-menu {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 1rem;
      background-color: var(--blue-dark);
      min-width: 200px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
      z-index: 1000;
      border-radius: 0.5rem;
      padding: 0.5rem 0;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .services-dropdown.active .services-dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .services-dropdown-menu a {
      display: block;
      padding: 0.75rem 1.5rem;
      color: #ffffff;
      text-decoration: none;
      font-family: "Mandioca", "Helvetica", "Arial", sans-serif;
      font-size: 1rem;
      font-weight: 200;
      letter-spacing: 0.02em;
      transition: background-color 0.2s ease;
    }

    .services-dropdown-menu a:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    .nav-links a {
      color: #ffffff;
      text-decoration: none;
      font-family: "Mandioca", "Helvetica", "Arial", sans-serif;
      font-size: 1rem;
      font-weight: 200;
      letter-spacing: 0.02em;
    }

    /* Contact form */
    .form-container {
      grid-column: 1 / -1;
      margin: 6rem 0 0 0 !important;
      background: rgba(13, 44, 87, 0.04);
      border: 1px solid rgba(13, 44, 87, 0.08);
      border-radius: 1.5rem;
      padding: 2.5rem 2.5rem 2.5rem 2.5rem !important;
    }

    .contact-form {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .form-group.inline {
      flex-direction: row;
      align-items: center;
      gap: 0.75rem;
    }

    .interests-group {
      grid-column: 1 / -1;
      padding: 1rem;
      border: 1px solid rgba(13, 44, 87, 0.12);
      border-radius: 1rem;
      background: #ffffff;
    }

    .interests-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 0.75rem 1.5rem;
      margin-top: 0.5rem;
    }

    .interest-option {
      display: flex;
      align-items: flex-start;
      gap: 0.6rem;
      font-family: "Quicksand", "Helvetica", "Arial", sans-serif;
      font-size: 1rem;
      color: var(--blue-dark);
    }

    .interest-option input[type="checkbox"] {
      margin-top: 0.2rem;
    }

    .interest-other-text {
      margin-top: 0.5rem;
      display: none;
    }

    .form-group label {
      font-family: "Helvetica", "Arial", sans-serif;
      font-size: 1rem;
      font-weight: 400;
      color: var(--blue-dark);
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      padding: 0.85rem 1rem;
      border-radius: 0.75rem;
      border: 1px solid rgba(13, 44, 87, 0.2);
      font-family: "Quicksand", "Helvetica", "Arial", sans-serif;
      font-size: 1rem;
      color: var(--blue-dark);
      background: #ffffff;
      outline: none;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      border-color: rgba(13, 44, 87, 0.5);
      box-shadow: 0 0 0 3px rgba(13, 44, 87, 0.12);
    }

    .form-group textarea {
      min-height: 140px;
      resize: vertical;
    }

    .form-group input.field-error,
    .form-group select.field-error,
    .form-group textarea.field-error {
      border-color: #d32f2f;
      box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.16);
    }

    .interests-group.field-error,
    .form-consent.field-error {
      border-color: #d32f2f;
      box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.16);
    }

    .field-hint {
      font-family: "Quicksand", "Helvetica", "Arial", sans-serif;
      font-size: 0.9rem;
      color: rgba(13, 44, 87, 0.8);
      margin: 0;
    }

    .form-consent {
      grid-column: 1 / -1;
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      font-family: "Quicksand", "Helvetica", "Arial", sans-serif;
      font-size: 0.95rem;
      color: var(--blue-dark);
    }

    .form-consent input[type="checkbox"] {
      margin-top: 0.2rem;
    }

    .privacy-hint {
      grid-column: 1 / -1;
      font-family: "Quicksand", "Helvetica", "Arial", sans-serif;
      font-size: 0.95rem;
      color: rgba(13, 44, 87, 0.9);
      line-height: 1.5;
    }

    .form-status {
      grid-column: 1 / -1;
      font-family: "Quicksand", "Helvetica", "Arial", sans-serif;
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--blue-dark);
      padding: 1rem;
      border-radius: 0.5rem;
      margin-bottom: 1rem;
      display: none;
    }

    .form-status.success {
      display: block;
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .form-status.error {
      display: block;
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    .form-status.error a {
      color: #721c24;
      text-decoration: underline;
    }

    .form-button {
      grid-column: 1 / -1;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      padding: 0.95rem 1.5rem;
      background-color: var(--blue-dark);
      color: #ffffff;
      border: none;
      border-radius: 0.9rem;
      font-family: "Mandioca", "Helvetica", "Arial", sans-serif;
      font-size: 1.1rem;
      letter-spacing: 0.02em;
      cursor: pointer;
      transition: background-color 0.2s ease, transform 0.2s ease;
    }

    .form-button:hover {
      background-color: #334868;
      transform: translateY(-1px);
    }

    .form-button:active {
      transform: translateY(0);
    }

    /* Success Modal */
    .success-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      z-index: 10000;
      align-items: center;
      justify-content: center;
    }

    .success-modal.active {
      display: flex;
    }

    .success-modal-content {
      background: #ffffff;
      border-radius: 1.5rem;
      padding: 3rem 4rem;
      max-width: 600px;
      width: 90%;
      text-align: center;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    }

    .success-modal-content h2 {
      font-family: "Helvetica", "Arial", sans-serif;
      font-size: 1.5rem;
      font-weight: 400;
      color: var(--blue-dark);
      margin: 0 0 4rem 0;
      line-height: 1.2em;
    }

    .success-modal-button {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      padding: 0.95rem 2rem;
      background-color: var(--blue-dark);
      color: #ffffff;
      border: none;
      border-radius: 0.9rem;
      font-family: "Mandioca", "Helvetica", "Arial", sans-serif;
      font-size: 1.1rem;
      letter-spacing: 0.02em;
      cursor: pointer;
      transition: background-color 0.2s ease, transform 0.2s ease;
      text-decoration: none;
    }

    .success-modal-button:hover {
      background-color: #334868;
      transform: translateY(-1px);
    }

    .success-modal-button:active {
      transform: translateY(0);
    }

    .gradient-section {
      width: 100%;
      min-height: 110rem;
      background: linear-gradient(to bottom, #FAFAFA, #FFFFFF);
      padding-bottom: 4rem;
    }

    .content-section {
      max-width: 1080px;
      margin: 0 auto;
      width: 100%;
      padding-top: 10rem;
      padding-left: 2rem;
      padding-right: 2rem;
      padding-bottom: 4rem;
    }

    .text-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
    }

    .text-section > * {
      margin-top: 0;
      padding-top: 0;
    }

    .form-title {
      grid-column: 1 / -1;
      margin: 0 !important;
      font-family: "Helvetica", "Arial", sans-serif;
      font-size: 4rem;
      font-weight: 400;
      color: var(--blue-dark);
      text-align: left;
      line-height: 1.3em;
    }

    .form-email-wrapper {
      grid-column: 1 / -1;
      position: relative;
      margin: 3rem 0 0 0 !important;
      display: inline-block;
      width: 100%;
    }

    .form-email {
      display: inline-block;
      margin: 0 !important;
      font-family: "Helvetica", "Arial", sans-serif;
      font-size: 1.2rem;
      font-weight: 200;
      color: var(--blue-dark);
      text-align: left;
      line-height: 1.2em;
      vertical-align: top;
    }

    .form-social-media {
      display: inline-block;
      margin: 0 0 0 5rem !important;
      font-family: "Helvetica", "Arial", sans-serif;
      font-size: 1.2rem;
      font-weight: 200;
      color: var(--blue-dark);
      text-align: left;
      line-height: 1.2em;
      vertical-align: top;
    }

    .form-social-icons {
      display: inline-block;
      margin: 0 0 0 5rem !important;
      vertical-align: top;
      width: auto;
    }

    .form-social-media {
      text-align: center;
    }

    .form-social-icons-container {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: .6rem;
      margin-top: 1.3rem;
      margin-left: 2.5rem;
      width: 100%;
    }

    .form-social-icons-container a {
      display: block;
      cursor: pointer;
      text-decoration: none;
      flex-shrink: 0;
      align-self: flex-end;
    }

    .form-social-icons-container a:hover {
      opacity: 1;
    }

    .form-social-icons-container img {
      height: 1.2rem;
      width: 1.2rem;
      display: block;
      object-fit: contain;
      object-position: bottom;
    }

    .form-social-icons-container a:nth-child(1) img {
      /* WeChat - scale if needed */
      transform: scale(1);
    }

    .form-social-icons-container a:nth-child(2) img {
      /* LinkedIn - scale down if it appears larger */
      transform: scale(1.3);
    }

    .form-social-icons-container a:nth-child(3) img {
      /* Instagram - scale if needed */
      transform: scale(0.95);
    }

    .form-description {
      grid-column: 1 / -1;
      margin: 4rem 0 0 0 !important;
      font-family: "Helvetica", "Arial", sans-serif;
      font-size: 1.5rem;
      font-weight: 300;
      color: var(--blue-dark);
      text-align: left;
      line-height: 1.3em;
    }

    footer {
      width: 100%;
      min-height: 15rem;
      background-color: var(--blue-dark);
      padding: 4rem 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .footer-content {
      max-width: 1200px;
      width: 100%;
      padding: 0 2rem;
      position: relative;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .footer-text {
      font-family: "Mandioca", "Helvetica", "Arial", sans-serif;
      font-size: 1rem;
      font-weight: 200;
      letter-spacing: 0.02em;
      color: #ffffff;
      text-align: left;
      line-height: 1.8em;
      position: absolute;
      left: -2rem;
    }

    .footer-text a {
      color: #ffffff;
      text-decoration: underline;
      cursor: pointer;
      transition: opacity 0.3s ease;
    }

    .footer-text a:hover {
      opacity: 0.8;
    }

    .footer-links {
      font-family: "Mandioca", "Helvetica", "Arial", sans-serif;
      font-size: 1rem;
      font-weight: 200;
      letter-spacing: 0.02em;
      color: #ffffff;
      text-align: right;
      line-height: 1.8em;
      position: absolute;
      right: -2rem;
    }

    .footer-links a {
      color: #ffffff;
      text-decoration: none;
      cursor: pointer;
      transition: opacity 0.3s ease;
    }

    .footer-links a:hover {
      opacity: 0.8;
    }

    /* WeChat QR Code Modal */
    .wechat-qr-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      justify-content: center;
      align-items: center;
    }

    .wechat-qr-modal.active {
      display: flex;
    }

    .wechat-qr-content {
      background: #ffffff;
      padding: 2rem;
      border-radius: 1rem;
      text-align: center;
      max-width: 400px;
      position: relative;
    }

    .wechat-qr-content img {
      width: 100%;
      max-width: 300px;
      height: auto;
      display: block;
      margin: 0 auto;
    }

    .wechat-qr-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      font-size: 2rem;
      color: #000000;
      cursor: pointer;
      line-height: 1;
      padding: 0;
      width: 2rem;
      height: 2rem;
    }

    .wechat-qr-close:hover {
      opacity: 0.7;
    }

  </style>
</head>
<body>
  <header>
    <h2 class="brand">
      <a href="index.html">Three Dimensions</a>
    </h2>
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Menü öffnen">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <nav class="nav-links" id="navLinks">
      <a href="index.html">Home</a>
      <a href="Three-Dimensions-Anfrageformular.html">Kontakt</a>
      <a href="Ueber-Mich.html">Über Mich</a>
      <div class="services-dropdown" id="servicesDropdown">
        <button class="services-dropdown-button" onclick="toggleServicesDropdown(event)">Unsere Services</button>
        <div class="services-dropdown-menu">
          <a href="ar-produktvisualisierung.html">AR Produktvisualisierung</a>
          <a href="Details-durch-3D.html">Details durch 3D</a>
          <a href="3D-Renderings-fuer-Shops.html">3D Renderings für Shops</a>
        </div>
      </div>
    </nav>
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
  </header>
  <div class="gradient-section">
    <div class="content-section">
      <div class="text-section">
        <p class="form-title">Schicke uns deine Anfrage.</p>
        <p class="form-description">Beantworte uns ein paar kurze<br>Fragen unten im Formular und<br>schon kann es losgehen.<br><br>Alternativ kannst du uns auch<br>gerne direkt schreiben.</p>
        <div class="form-email-wrapper">
          <p class="form-email">E-Mail-Adresse<br><br>kontakt@three-dimensions.de</p>
          <div class="form-social-icons">
            <p class="form-social-media">Social Media</p>
            <div class="form-social-icons-container">
              <a href="#" title="WeChat" onclick="handleWeChatClick(event)">
                <picture>
                  <source srcset="Wechat2.webp" type="image/webp">
                  <img src="Wechat2.png" alt="WeChat">
                </picture>
              </a>
              <a href="https://www.linkedin.com/in/milo-boettger-threed?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app" title="LinkedIn" target="_blank" rel="noopener noreferrer">
                <picture>
                  <source srcset="Linkedin2.webp" type="image/webp">
                  <img src="Linkedin2.png" alt="LinkedIn">
                </picture>
              </a>
              <a href="https://www.instagram.com/threedimensions.de?igsh=dG5ubXJoNWJjYWR1&utm_source=qr" title="Instagram" target="_blank" rel="noopener noreferrer">
                <picture>
                  <source srcset="Instagram2.webp" type="image/webp">
                  <img src="Instagram2.png" alt="Instagram">
                </picture>
              </a>
            </div>
          </div>
        </div>
        <div class="form-container">
          <form id="contact-form" class="contact-form" method="POST" action="/api/contact" novalidate>
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" id="name" name="name" placeholder="Dein Name">
            </div>
            <div class="form-group">
              <label for="company">Unternehmensname *</label>
              <input type="text" id="company" name="company" required aria-required="true" placeholder="Dein Unternehmen">
            </div>
            <div class="form-group">
              <label for="email">E-Mail-Adresse *</label>
              <input type="email" id="email" name="email" required aria-required="true" placeholder="deine@email.de">
            </div>
            <div class="form-group interests-group">
              <label>Woran bist du interessiert? *</label>
              <div class="interests-options">
                <label class="interest-option"><input type="checkbox" name="interests" value="3d-modell"> 3D Modell erstellen</label>
                <label class="interest-option"><input type="checkbox" name="interests" value="ar-optimiert"> Für AR optimiertes 3D Modell erstellen</label>
                <label class="interest-option"><input type="checkbox" name="interests" value="renderings"> Einfache Produkt-Renderings</label>
                <label class="interest-option"><input type="checkbox" name="interests" value="animation"> 3D Animation</label>
                <label class="interest-option"><input type="checkbox" id="interest-other" name="interests" value="other"> Etwas anderes</label>
              </div>
              <div class="form-group interest-other-text" id="interest-other-text">
                <label for="interest-other-input">Beschreibe kurz, was du benötigst</label>
                <textarea id="interest-other-input" name="interestOther" placeholder="Worum geht es?"></textarea>
              </div>
            </div>
            <div class="form-group">
              <label for="website">Link zu deiner Website</label>
              <input type="url" id="website" name="website" placeholder="https://deine-website.de">
              <p class="field-hint">Trage hier den Link zu deiner Website ein, auf der wir uns dein Produkt ansehen können.</p>
            </div>
            <div class="form-group">
              <label for="budget">Budget-Range</label>
              <select id="budget" name="budget">
                <option value="">Bitte wählen</option>
                <option value="<500">< 500€</option>
                <option value="500-1000">500€ - 1000€</option>
                <option value=">1000">> 1000€</option>
              </select>
            </div>
            <div class="form-group">
              <label for="deadline">Bis wann sollte das Projekt fertig sein?</label>
              <input type="date" id="deadline" name="deadline">
            </div>
            <div class="form-group" style="grid-column: 1 / -1;">
              <label for="message">Projektbeschreibung *</label>
              <textarea id="message" name="message" required aria-required="true" placeholder="Erzähle kurz, worum es geht."></textarea>
            </div>
            <div class="form-consent">
              <input type="checkbox" id="consent" name="consent" required aria-required="true">
              <label for="consent">Ich willige ein, dass meine Angaben zur Beantwortung meiner Anfrage verarbeitet werden. Hinweise und Widerrufsrecht in der <a href="Datenschutz.html" target="_blank" rel="noopener noreferrer">Datenschutzerklärung</a>.</label>
            </div>
            <p class="privacy-hint">Hinweis: Die Daten werden ausschließlich zur Bearbeitung deiner Anfrage genutzt und danach gemäß unserer Datenschutzerklärung gelöscht, sofern keine gesetzlichen Aufbewahrungspflichten bestehen.</p>
            <div class="form-status" id="form-status" role="status" aria-live="polite"></div>
            <button type="submit" class="form-button">Jetzt absenden</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <footer>
    <div class="footer-content">
      <p class="footer-text">
        Finde mich auf <a href="https://www.instagram.com/threedimensions.de?igsh=dG5ubXJoNWJjYWR1&utm_source=qr" id="instagram-link" target="_blank" rel="noopener noreferrer">Instagram</a>,<br>
        <a href="#" id="wechat-link" onclick="handleWeChatClick(event)">WeChat</a> und <a href="https://www.linkedin.com/in/milo-boettger-threed?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app" id="linkedin-link" target="_blank" rel="noopener noreferrer">LinkedIn</a>.<br>
        kontakt@three-dimensions.de
      </p>
      <p class="footer-links">
        <a href="Three-Dimensions-Anfrageformular.html">Kontakt</a> - <a href="Impressum.html">Impressum</a> - <a href="Datenschutz.html">Datenschutz</a><br>Three Dimensions<br>Milo Boettger
      </p>
    </div>
  </footer>
  <script>
    // WeChat QR Code Modal
    function handleWeChatClick(event) {
      event.preventDefault();
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      
      if (isMobile) {
        // On mobile, open WeChat directly
        window.location.href = 'weixin://contacts/profile/wxid_weq6wfvqn6ya12';
      } else {
        // On desktop, show QR code
        const modal = document.getElementById('wechat-qr-modal');
        if (modal) {
          modal.classList.add('active');
        }
      }
    }

    // Close modal
    function closeWeChatModal() {
      const modal = document.getElementById('wechat-qr-modal');
      if (modal) {
        modal.classList.remove('active');
      }
    }

    // Close modal when clicking outside
    document.addEventListener('DOMContentLoaded', function() {
      const modal = document.getElementById('wechat-qr-modal');
      if (modal) {
        modal.addEventListener('click', function(e) {
          if (e.target === modal) {
            closeWeChatModal();
          }
        });
      }

      // Form submission handling
      const form = document.getElementById('contact-form');
      const formStatus = document.getElementById('form-status');
      const interestOther = document.getElementById('interest-other');
      const interestOtherText = document.getElementById('interest-other-text');

      // Show/hide "other" text field
      if (interestOther) {
        interestOther.addEventListener('change', function() {
          if (interestOtherText) {
            interestOtherText.style.display = this.checked ? 'block' : 'none';
          }
        });
      }

      if (form) {
        form.addEventListener('submit', async function(e) {
          e.preventDefault();
          
          // Clear previous status and errors
          formStatus.textContent = '';
          formStatus.className = 'form-status';
          document.querySelectorAll('.field-error').forEach(el => {
            el.classList.remove('field-error');
          });

          // Validate required fields
          const company = document.getElementById('company');
          const email = document.getElementById('email');
          const message = document.getElementById('message');
          const consent = document.getElementById('consent');
          const interests = document.querySelectorAll('input[name="interests"]:checked');

          let hasError = false;
          let errorMessages = [];

          if (!company.value.trim()) {
            company.classList.add('field-error');
            errorMessages.push('Unternehmensname ist erforderlich');
            hasError = true;
          }

          if (!email.value.trim()) {
            email.classList.add('field-error');
            errorMessages.push('E-Mail-Adresse ist erforderlich');
            hasError = true;
          } else if (!isValidEmail(email.value)) {
            email.classList.add('field-error');
            errorMessages.push('Bitte geben Sie eine gültige E-Mail-Adresse ein');
            hasError = true;
          }

          if (interests.length === 0) {
            document.querySelector('.interests-group').classList.add('field-error');
            errorMessages.push('Bitte wählen Sie mindestens ein Interesse aus');
            hasError = true;
          }

          if (!message.value.trim()) {
            message.classList.add('field-error');
            errorMessages.push('Projektbeschreibung ist erforderlich');
            hasError = true;
          }

          if (!consent.checked) {
            consent.parentElement.classList.add('field-error');
            errorMessages.push('Bitte stimmen Sie der Datenschutzerklärung zu');
            hasError = true;
          }

          if (hasError) {
            formStatus.textContent = errorMessages.join('. ');
            formStatus.className = 'form-status error';
            formStatus.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            return;
          }

          // Collect form data
          const formData = new FormData(form);
          const data = {
            name: formData.get('name'),
            company: formData.get('company'),
            email: formData.get('email'),
            interests: Array.from(document.querySelectorAll('input[name="interests"]:checked')).map(cb => cb.value),
            interestOther: formData.get('interestOther'),
            website: formData.get('website'),
            budget: formData.get('budget'),
            deadline: formData.get('deadline'),
            message: formData.get('message'),
            consent: formData.get('consent') === 'on'
          };

          // Show loading state
          const submitButton = form.querySelector('button[type="submit"]');
          const originalButtonText = submitButton.textContent;
          submitButton.disabled = true;
          submitButton.textContent = 'Wird gesendet...';

          try {
            // Send form data to backend
            const response = await fetch('/api/contact', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(data)
            });

            const responseData = await response.json().catch(() => ({}));

            if (response.ok) {
              // Success
              formStatus.textContent = 'Vielen Dank für Ihre Anfrage! Wir melden uns bald bei Ihnen.';
              formStatus.className = 'form-status success';
              form.reset();
              if (interestOtherText) {
                interestOtherText.style.display = 'none';
              }
            } else {
              // Server validation error - display the backend error message inline
              formStatus.textContent = responseData.message || 'Es ist ein Fehler aufgetreten. Bitte versuchen Sie es später erneut.';
              formStatus.className = 'form-status error';
              formStatus.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
          } catch (error) {
            // Network or other error - show email fallback
            formStatus.textContent = 'Die Anfrage konnte nicht gesendet werden. Bitte senden Sie uns stattdessen eine E-Mail an ';
            const emailLink = document.createElement('a');
            emailLink.href = 'mailto:kontakt@three-dimensions.de?subject=Projektanfrage&body=' + encodeURIComponent('Name: ' + data.name + '\nUnternehmen: ' + data.company + '\nE-Mail: ' + data.email + '\n\nNachricht:\n' + data.message);
            emailLink.textContent = 'kontakt@three-dimensions.de';
            formStatus.appendChild(emailLink);
            formStatus.className = 'form-status error';
            console.error('Form submission error:', error);
          } finally {
            submitButton.disabled = false;
            submitButton.textContent = originalButtonText;
          }
        });
      }
    });

    // Email validation helper - using a more robust pattern
    function isValidEmail(email) {
      // RFC 5322 simplified pattern - allows most valid emails while blocking obvious invalids
      return /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(email);
    }

    // Mobile menu functionality
    (function() {
      const mobileMenuToggle = document.getElementById('mobileMenuToggle');
      const navLinks = document.getElementById('navLinks');
      const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
      
      function toggleMobileMenu() {
        mobileMenuToggle.classList.toggle('active');
        navLinks.classList.toggle('active');
        mobileMenuOverlay.classList.toggle('active');
        document.body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : '';
      }
      
      function closeMobileMenu() {
        mobileMenuToggle.classList.remove('active');
        navLinks.classList.remove('active');
        mobileMenuOverlay.classList.remove('active');
        document.body.style.overflow = '';
      }
      
      if (mobileMenuToggle) {
        mobileMenuToggle.addEventListener('click', toggleMobileMenu);
      }
      
      if (mobileMenuOverlay) {
        mobileMenuOverlay.addEventListener('click', closeMobileMenu);
      }
      
      if (navLinks) {
        navLinks.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', closeMobileMenu);
        });
      }
      
      window.addEventListener('resize', function() {
        if (window.innerWidth > 768) {
          closeMobileMenu();
        }
      });
    })();

    // Services dropdown functionality
    function toggleServicesDropdown(event) {
      event.stopPropagation();
      const dropdown = document.getElementById('servicesDropdown');
      dropdown.classList.toggle('active');
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      const dropdown = document.getElementById('servicesDropdown');
      if (dropdown && !dropdown.contains(event.target)) {
        dropdown.classList.remove('active');
      }
    });
  </script>
  <!-- WeChat QR Code Modal -->
  <div id="wechat-qr-modal" class="wechat-qr-modal">
    <div class="wechat-qr-content">
      <button class="wechat-qr-close" onclick="closeWeChatModal()">&times;</button>
      <h3 style="margin-top: 0; color: #000000; font-family: 'Helvetica', 'Arial', sans-serif;">Scan QR Code to add on WeChat</h3>
      <img src="WeChatQRcode.JPG" alt="WeChat QR Code">
    </div>
  </div>
</body>
</html>

